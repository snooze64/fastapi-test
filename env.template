# RAG-Anything Docker Environment Configuration (CPU Version)
# Copy this file to .env and modify as needed

# Server Configuration
HOST=0.0.0.0
PORT=8000
WEBUI_TITLE=Simple RAG-Anything API (CPU)
WEBUI_DESCRIPTION=簡素化されたRAG-Anything API (CPU版)
WORKERS=1
CORS_ORIGINS=*

# Authentication
AUTH_ACCOUNTS=
TOKEN_SECRET=
TOKEN_EXPIRE_HOURS=48
GUEST_TOKEN_EXPIRE_HOURS=24
JWT_ALGORITHM=HS256

# API-Key to access LightRAG Server API
LIGHTRAG_API_KEY=your-secure-api-key-here
WHITELIST_PATHS=/health,/api/*

# Directory Configuration
INPUT_DIR=./uploads
OUTPUT_DIR=./output
WORKING_DIR=./rag_storage
LOG_DIR=./logs
MODEL_CACHE_DIR=./model_cache

# RAGAnything Configuration
PARSE_METHOD=auto
PARSER=mineru
DISPLAY_CONTENT_STATS=true
ENABLE_IMAGE_PROCESSING=true
ENABLE_TABLE_PROCESSING=true
ENABLE_EQUATION_PROCESSING=true
MAX_CONCURRENT_FILES=1

# Supported file extensions
SUPPORTED_FILE_EXTENSIONS=.pdf,.jpg,.jpeg,.png,.bmp,.tiff,.tif,.gif,.webp,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.txt,.md
RECURSIVE_FOLDER_PROCESSING=true

# Context Configuration
CONTEXT_WINDOW=1
CONTEXT_MODE=page
MAX_CONTEXT_TOKENS=2000
INCLUDE_HEADERS=true
INCLUDE_CAPTIONS=true
CONTEXT_FILTER_CONTENT_TYPES=text
CONTENT_FORMAT=minerU

# Max nodes return from graph retrieval
MAX_GRAPH_NODES=1000

# Settings for RAG query
HISTORY_TURNS=3
COSINE_THRESHOLD=0.2
TOP_K=60
MAX_TOKEN_TEXT_CHUNK=4000
MAX_TOKEN_RELATION_DESC=4000
MAX_TOKEN_ENTITY_DESC=4000

# Entity and relation summarization configuration
SUMMARY_LANGUAGE=English
FORCE_LLM_SUMMARY_ON_MERGE=6
MAX_TOKEN_SUMMARY=500

# Document processing configuration
MAX_PARALLEL_INSERT=2
CHUNK_SIZE=1200
CHUNK_OVERLAP_SIZE=100

# LLM Configuration
LLM_BINDING=openai
LLM_MODEL=gpt-4o-mini
LLM_BINDING_HOST=https://api.openai.com/v1
LLM_BINDING_API_KEY=your_openai_api_key_here
TEMPERATURE=0
MAX_TOKENS=32768
TIMEOUT=240
ENABLE_LLM_CACHE=true
ENABLE_LLM_CACHE_FOR_EXTRACT=true
MAX_ASYNC=4

# Embedding Configuration
EMBEDDING_BINDING=openai
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIM=3072
EMBEDDING_BINDING_HOST=https://api.openai.com/v1
EMBEDDING_BINDING_API_KEY=your_openai_api_key_here
EMBEDDING_BATCH_NUM=32
EMBEDDING_FUNC_MAX_ASYNC=16

# Logging Configuration
LOG_LEVEL=INFO
VERBOSE=false
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# OpenAI API Configuration (for backward compatibility)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1

# MinerU Configuration (CPU optimized)
MINERU_PARSE_METHOD=auto
MINERU_DEVICE=cpu
MINERU_LANG=en
MINERU_FORMULA=true
MINERU_TABLE=true
MINERU_BACKEND=pipeline
MINERU_SOURCE=huggingface

# Data storage selection (optional - uncomment if needed)
# LIGHTRAG_KV_STORAGE=PGKVStorage
# LIGHTRAG_VECTOR_STORAGE=PGVectorStorage
# LIGHTRAG_DOC_STATUS_STORAGE=PGDocStatusStorage
# LIGHTRAG_GRAPH_STORAGE=Neo4JStorage

# PostgreSQL Configuration (optional - uncomment if needed)
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_USER=your_username
# POSTGRES_PASSWORD='your_password'
# POSTGRES_DATABASE=your_database
# POSTGRES_MAX_CONNECTIONS=12

# Neo4j Configuration (optional - uncomment if needed)
# NEO4J_URI=neo4j+s://xxxxxxxx.databases.neo4j.io
# NEO4J_USERNAME=neo4j
# NEO4J_PASSWORD='your_password'

# MongoDB Configuration (optional - uncomment if needed)
# MONGO_URI=mongodb://root:root@localhost:27017/
# MONGO_DATABASE=LightRAG

# Milvus Configuration (optional - uncomment if needed)
# MILVUS_URI=http://localhost:19530
# MILVUS_DB_NAME=lightrag

# Qdrant Configuration (optional - uncomment if needed)
# QDRANT_URL=http://localhost:16333
# QDRANT_API_KEY=your-api-key

# Redis Configuration (optional - uncomment if needed)
# REDIS_URI=redis://localhost:16333
